---
import ProductCard from './ProductCard.astro';

export interface Props {
  id: string;
  category: string;
  emoji: string;
  products: Array<{
    id: string;
    nombre: string;
    descripcion: string;
    precio: number;
    imagen: string;
    badge?: string | null;
  }>;
}

const { id, category, products } = Astro.props;
---

<section id={id} class="mb-8">
  <!-- Category header -->
  <div class="flex items-center gap-2 mb-3 px-4 mt-6">
    <div class="w-2.5 h-7 rounded-sm flex-shrink-0 border-2 border-[#1A1A1A]" style="background: #E52521; box-shadow: 2px 2px 0px #1A1A1A;"></div>
    <h2 class="theme-text text-2xl font-black uppercase tracking-wide flex-1" style="font-family: 'Bangers', cursive; text-shadow: 1px 1px 0px rgba(0,0,0,0.25);">
      {category}
    </h2>
    <span class="text-xs font-black px-2 py-0.5 rounded-full border-2 border-[#1A1A1A]" style="background: #FFC520; color: #1A1A1A; box-shadow: 2px 2px 0px #1A1A1A;">
      {products.length}
    </span>
  </div>

  <!-- Single-column compact list -->
  <div class="flex flex-col gap-2.5 px-4">
    {products.map((product) => (
      <ProductCard
        id={product.id}
        nombre={product.nombre}
        descripcion={product.descripcion}
        precio={product.precio}
        imagen={product.imagen}
        badge={product.badge}
      />
    ))}
  </div>
</section>
